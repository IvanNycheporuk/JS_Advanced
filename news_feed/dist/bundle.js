!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);class r{constructor(e){this.onSubmit=e}Build(){let e=document.createElement("form");return e.innerHTML='            \n            <div class="form-group">\n                <label for="authorName">author name</label>\n                <input type="name" class="form-control" name="authorName">\n            </div>\n            <div class="form-group">\n                <label for="postDescription">Description</label>\n                <textarea name="postDescription" id="postDescription" class="form-control"></textarea>\n            </div>\n            <div class="form-row mb-3">\n                <div class="col">\n                <input type="text" class="form-control" placeholder="Image url">\n                </div>\n                <div class="col">\n                <input type="file" class="form-control-file">\n                </div>\n            </div>\n            <div class="form-group">\n                <input type="submit" class="form-control" id="submit">\n            </div>\n        ',this.AddEvents(e),e}AddEvents(e){e.querySelector('[type="submit"]').addEventListener("click",t=>{if(t.preventDefault(),!this.ValidateForm(e))return void alert("please, fillout all the fileds");let n=this.GetPost(e);this.onSubmit(n),e.reset()})}ValidateForm(e){let t=Array.from(e.querySelectorAll("[name]")),n=!0;return t.forEach(e=>{e.classList.remove("error")}),t.forEach(e=>{""===e.value&&(n=!1,e.classList.add("error"))}),n}GetPost(e){let t=Array.from(e.querySelectorAll("[name]")),n={};return t.forEach(e=>{n[e.name]=e.value}),n}}class o{constructor(){this.likesCount=0}Build(){let e=document.createElement("div");return e.classList.add("social","d-flex","justify-content-between","mb-3"),e.innerHTML=`\n            <a class="likes">\n                <i class="far fa-heart"></i>\n                <span class="counter"> Likes ${this.likesCount} </span>\n            </a>\n        `,this.AddEvents(e),e}AddEvents(e){e.querySelector(".likes").addEventListener("click",()=>{e.querySelector(".counter").innerHTML=`Likes: ${++this.likesCount}`})}}class s{constructor(e){this.submitComment=e}Build(){let e=document.createElement("div");return e.classList.add("form-group","comment-form"),e.innerHTML='\n            <input class="form-control mb-3" name="commentAuthor" type="text" id="commentAuthor">\n            <textarea class="form-control mb-3" name="commentDescription"></textarea>\n            <button type="submit" class="form-control">Send Post</button>               \n        ',this.AddEvents(e),e}AddEvents(e){e.querySelector("button").addEventListener("click",()=>{if(!this.ValidateForm(e))return void alert("please tell me who you are");let t=this.GetComment(e);this.submitComment(t),this.ResetForm(e)})}GetComment(e){let t={};return Array.from(e.querySelectorAll("[name]")).forEach(e=>{t[e.name]=e.value}),t}ResetForm(e){Array.from(e.querySelectorAll("[name]")).forEach(e=>{e.value=""})}ValidateForm(e){let t=Array.from(e.querySelectorAll("[name]")),n=!0;return t.forEach(e=>{e.classList.remove("error")}),t.forEach(e=>{""===e.value&&(n=!1,e.classList.add("error"))}),n}}class l{constructor(e){this.data=e,this.comments=[]}Build(){let e=document.createElement("div");e.classList.add("card","mb-3");let{authorName:t,postDescription:n}=this.data,r=new Date,l=String(r.getDate()).padStart(2,"0"),i=String(r.getMonth()+1).padStart(2,"0"),a=r.getFullYear();r=i+"/"+l+"/"+a;let c=(new o).Build();e.innerHTML=`\n            <div class="card-body">\n                <div class="info d-flex justify-content-between ">\n                    <span>${t}</span>\n                    <span>${r}</span>\n                </div>\n                <img src="" alt="">\n                <p class="card-text">${n}</p>\n                <div class="social d-flex justify-content-between">\n                    <span class='likes-container'></span>\n                    <div class="comments">\n                        <span class="comments-count">Comments (${this.comments.length})</span>\n                        <a class="_commentsBtn" href="#">Write a comment</a>\n                    </div>\n                </div>                    \n                <div class="comment-block">\n                </div>\n                \n            </div>\n        `,e.querySelector(".likes-container").appendChild(c);let d=new s(e=>{this.AddComment(e),this.RenderComments()});return e.querySelector(".card-body").appendChild(d.Build()),e.querySelector("._commentsBtn").addEventListener("click",()=>{e.querySelector(".comment-form").classList.toggle("show")}),this.el=e,e}AddComment(e){let t=document.createElement("div");console.log(e),t.innerHTML=`\n            <div class="comment mb-3">\n                <span>Author: ${e.commentAuthor}</span>\n                <p>${e.commentDescription}</p>\n            </div>\n        `,this.comments.push(t)}RenderComments(){let e=this.el.querySelector(".comment-block");this.comments.forEach(t=>{e.appendChild(t)})}}document.addEventListener("DOMContentLoaded",()=>{new class{constructor(e){this.el=e,this.el.classList.add("container"),this.Init()}Init(){let e=document.createElement("div");e.classList.add("row"),this.el.appendChild(e),this.el.querySelector(".row").append(this.PostsContainer(),this.FormContainer())}PostsContainer(){let e=document.createElement("div");e.classList.add("col-7");let t=document.createElement("h1");return t.innerText="News Feed",e.appendChild(t),e}AddPost(e){this.el.querySelector(".col-7").appendChild(e.Build())}FormContainer(){let e=document.createElement("div");e.classList.add("col-5");let t=new r(e=>{console.log("onSubmit from App",e);let t=new l(e);this.AddPost(t)});return e.appendChild(t.Build()),e}}(document.getElementById("App"))})}]);